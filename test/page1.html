<!DOCTYPE html>
<html>
  <head>
    <title>page1.html</title>
    <script src="../js/caboche.js"></script>
  <head>
  <body>
    <h1>hello</h1>
    <p>load 6 js files in two phases</p>
    <script>
      function log(text) {
        var e = document.createElement('p');
        e.appendChild(document.createTextNode(text));
        document.body.appendChild(e);
      };
      Caboche.phase(0, 'a.js');
      Caboche.phase(0, 'http://lambda.io/caboche/jquery.js?a')
      Caboche.phase(0, 'http://lambda.io/caboche/jquery.js?b')
      Caboche.phase(0, 'http://lambda.io/caboche/jquery.js?c')
      Caboche.phase(1, 'b.js');
      Caboche.phase(1, 'http://lambda.io/caboche/jquery.js?d')
      Caboche.phase(1, 'http://lambda.io/caboche/jquery.js?e')
      Caboche.phase(1, 'http://lambda.io/caboche/jquery.js?f')
      Caboche.last(function() {
        try {
          A
          log('A is here')
        } catch(ex) { log('A is not here'); }
        try {
          B
          log('B is here')
        } catch(ex) { log('B is not here'); }
        log('over.')
      });
    </script>
  </body>
</html>

